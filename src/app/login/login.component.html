<div class="flex h-full max-w-[472px]">
  <form
    [formGroup]="loginForm"
    (ngSubmit)="onSubmit()"
    class="flex flex-col my-auto gap-y-8"
  >
    <h1 class="text-3xl text-center">Sing in to AVL, Vehicle Overview App</h1>
    <div class="flex flex-col mt-5">
      <span class="p-float-label">
        <input
          type="text"
          pInputText
          formControlName="username"
          autocomplete="username"
          required
          class="w-full"
          [ngClass]="{
            'ng-invalid': username?.invalid,
            'ng-touched': username?.dirty || username?.touched,
            'ng-dirty': username?.dirty || username?.touched
          }"
        />
        <label class="!text-inherit" for="username">Username</label>
      </span>
      <div class="min-h-6">
        <small
          *ngIf="username?.invalid && (username?.dirty || username?.touched)"
          class="text-red-500"
        >
          Username is required.
        </small>
      </div>
    </div>
    <div class="flex flex-col">
      <span class="p-float-label">
        <input
          type="password"
          pInputText
          formControlName="password"
          autocomplete="current-password"
          class="w-full"
          [ngClass]="{
            'ng-invalid': password?.invalid,
            'ng-touched': password?.dirty || password?.touched,
            'ng-dirty': password?.dirty || password?.touched
          }"
        />
        <label class="!text-inherit" for="password">Password</label></span
      >
      <div class="min-h-12">
        <small
          *ngIf="
            password?.invalid &&
            (password?.dirty || password?.touched) &&
            (password?.hasError('required') ||
              password?.hasError('passwordPattern'))
          "
          class="text-red-500"
        >
          Password should be at least 8 characters long, have at least one
          capital letter, one number and a special character.
        </small>
      </div>
    </div>
    <p-button
      label="Sign In"
      [loading]="loading"
      type="submit"
      class="mx-auto"
    ></p-button>
  </form>
</div>
